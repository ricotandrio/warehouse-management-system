project wp_laravel {
  database_type: 'MySQL'
  note: 'ERD for Warehouse Management System'
}

Enum user_roles {
  ADMIN 
  EDITOR 
  VIEWER
}

Table users {
  uuid char(36) [pk]
  username varchar(50) [unique, not null]
  password varchar(255)
  profile_image varchar(255)
  roles user_roles

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)

  indexes {
    username [name: 'username_index']
  }
}

Table user_categories {
  uuid char(36) [pk]
  id varchar(50) [note: 'user category custom ID']
  name varchar(100)
  description varchar(100)

  user_id char(36)

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)
}

Table products {
  uuid char(36) [pk]
  id varchar(50) [note: 'product real id']
  name varchar(100)
  description varchar(100)

  manufacturer_id char(36)
  category_id char(36)

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)

  indexes {
    name [name: 'product_name_index']
  }
}

Table product_images {
  uuid char(36) [pk]
  product_id char(36)
  image_link varchar(255)

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)
}

Table product_details {
  uuid char(36) [pk]
  variant_id varchar(50)
  variant_size varchar(20)
  variant_description varchar(100)
  stock_quantity int

  product_id char(36)

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)
}

Table product_categories {
  uuid char(36) [pk]
  id varchar(50) [note: 'product category custom ID']
  name varchar(100)
  description varchar(100)

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)
}

Table manufacturers {
  uuid char(36) [pk]
  id varchar(50) [note: 'manufacturer custom ID']
  name varchar(100)
  email varchar(20)
  phone varchar(20)
  description varchar(100)
  website_link varchar(255)
  image_link varchar(255)

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)

  indexes {
    name [name: 'manufacturer_name_index']
  }
}

Table sales {
  uuid char(36) [pk]
  id varchar(50) [note: 'manufacturer custom ID']
  name varchar(100)
  phone varchar(20)
  description varchar(100)

  manufacturer_id char(36)

  created_at datetime [default: `now()`]
  created_by char(36)
  updated_at datetime [default: `now()`]
  updated_by char(36)
  deleted_at datetime 
  deleted_by char(36)
  
  indexes {
    name [name: 'sales_name_index']
  }
}


Ref: sales.manufacturer_id < manufacturers.uuid
Ref: products.manufacturer_id < manufacturers.uuid
Ref: product_images.product_id < products.uuid
Ref: product_details.product_id < products.uuid
Ref: products.category_id < product_categories.uuid 
Ref: user_categories.user_id < users.uuid

Enum database_operations {
  CREATE
  READ
  UPDATE
  DELETE
}

Table logs {
  id int [pk, increment]

  entity_type varchar(30)
  entity_uuid char(36)

  action_is database_operations 
  action_by char(36)
  action_at timestamp

  value_before varchar(255)
  value_after varchar(255)
}
